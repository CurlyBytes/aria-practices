<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Navigation Treeview Example Using Computed Properties | WAI-ARIA Authoring Practices 1.2</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../css/core.css">
    <script src="../js/examples.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script src="../js/app.js"></script>

    <link href="css/treeview-navigation.css" rel="stylesheet">
    <script type="text/javascript" src="js/treeview-navigation.js"></script>
    <script type="text/javascript" src="js/navigation-content-generator.js"></script>
  </head>
  <body>
  <nav aria-label="Related Links" class="feedback">
      <ul>
        <li><a href="../../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
        <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
        <li><a href="https://github.com/w3c/aria-practices/projects/17">Related Issues</a></li>
        <li><a href="../../../#TreeView">Design Pattern</a></li>
      </ul>
    </nav>
    <main>
      <h1>Navigation Treeview Example Using Computed Properties</h1>
  <p>
    The below example demonstrates how the
    <a href="../../../#TreeView">Treeview Design Pattern</a>
    can be used to build a navigation tree for a set of hierarchically organized web pages.
    In this example, the user can browse a set of pages about foods that is organized into categories.
    Activating an item in the tree will open a page about the chosen food.
  </p>
  <p>
    Since a tree item is the only kind of interactive element that can be contained in a tree, links to web pages in a navigation tree have the <code>treeitem</code> role.
  </p>
  <p>
        This example relies on the browser to compute values for <code>aria-setsize</code>, <code>aria-posinset</code>, and <code>aria-level</code>.
        The ARIA 1.0 specification for these properties states that browsers can, but are not required to, compute their values.
        So, some browser and assistive technology combinations may not compute or report correct position and level information if it is not explicitly declared.
        If testing reveals gaps in support for these properties, override automatic computation by explicitly declaring their values as demonstrated in the example of a
        <a href="../treeview-2/treeview-2b.html">Navigation Treeview using <em>declared</em> properties.</a>
       </p>
      <p>Similar examples include: </p>
      <ul>
        <li><a href="treeview-1/treeview-1a.html">File Directory Treeview using <em>computed</em> properties</a></li>
        <li><a href="treeview-1/treeview-1b.html">File Directory Treeview using <em>declared</em> properties</a></li>
      </ul>
  <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>

        <div id="ex1">
          <div class="header">
            <div class="title">Mythical University</div>
            <div class="tagline">Tree Navigation Example</div>
          </div>
          <div class="body">
            <nav aria-label="Mythical University">
              <ul class="treeview-navigation" role="tree" aria-label="Mythical University">
                <li role="none">
                  <a role="treeitem"
                     href="#home"
                     aria-current='page'>
                    Home
                  </a>
                </li>
                <li role="none">
                  <a role="treeitem"
                     aria-expanded="false"
                     aria-owns="id-about-subtree"
                     href="#about-mythical-university">
                    <span class="minus"></span>
                    About
                  </a>
                  <ul id="id-about-subtree"
                      role="group"
                      aria-label="About">
                    <li role="none">
                      <a role="treeitem" href="#mythical-univeristy-overview">Overview</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#mythical-university-adminstration">Administration</a>
                    </li>
                    <li role="none">
                      <a role="treeitem"
                         aria-expanded="false"
                         aria-owns="id-facts-subtree"
                         href="#mythical-univeristy-facts">
                        <span class="minus"></span>
                        Facts
                      </a>
                      <ul id="id-facts-subtree"
                          role="group"
                          aria-label="Facts">
                        <li role="none">
                          <a role="treeitem" href="#mythical-university-history">History</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#mythical-university-statistics">Current Statistics</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#mythical-university-awards">Awards</a>
                        </li>
                      </ul>
                    </li>
                    <li role="none">
                      <a role="treeitem"
                          aria-expanded="false"
                          aria-owns="id-campus-tours-subtree"
                          href="#about-campus-tours">
                        <span class="minus"></span>
                        Campus Tours
                      </a>
                      <ul id="id-campus-tours-subtree"
                          role="group"
                          aria-label="Campus Tours">
                        <li role="none">
                          <a role="treeitem" href="#prospective-students-tours">For Prospective Students</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#alumni-tours">For Alumni</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#visitor-tours">For Visitors</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li role="none">
                  <a role="treeitem"
                     aria-expanded="false"
                     aria-owns="id-admissions-subtree"
                     href="#admissions">
                    <span class="minus"></span>
                    Admissions
                  </a>
                  <ul id="id-admissions-subtree"
                      role="group"
                      aria-label="Admissions">
                    <li role="none">
                      <a role="treeitem" href="#apply-to-mythical-university">Apply</a>
                    </li>
                    <li role="none">
                      <a role="treeitem"
                          aria-expanded="false"
                          aria-owns="id-tutiton-subtree"
                          href="#tuition">
                        <span class="minus"></span>
                        Tuition
                      </a>
                      <ul id="id-tutiton-subtree"
                          role="group"
                          aria-label="Tuition">
                        <li role="none">
                          <a role="treeitem" href="#undergraduate-tuition">Undergraduate</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#graduate-tuition">Graduate</a>
                        </li>
                        <li role="none">
                          <a role="treeitem" href="#professional-school-tuition">Professional Schools</a>
                        </li>
                      </ul>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#admissions-signup">Sign Up</a>
                    </li>
                    <li role="separator"></li>
                    <li role="none">
                      <a role="treeitem" href="#admissions-visit">Visit</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#admissions-photo-tour">Photo Tour</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#admissions-connect">Connect</a>
                    </li>
                  </ul>
                </li>
                <li role="none">
                  <a role="treeitem"
                     aria-expanded="false"
                     aria-owns="id-academics-subtree"
                     href="#academics">
                    <span class="minus"></span>
                    Academics
                  </a>
                  <ul id="id-academics-subtree"
                      role="group"
                      aria-label="Academics">
                    <li role="none">
                      <a role="treeitem" href="#colleges-and-schools">Colleges &amp; Schools</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#programs-of-study">Programs of Study</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#honors-programs">Honors Programs</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#online-courses">Online Courses</a>
                    </li>
                    <li role="separator"></li>
                    <li role="none">
                      <a role="treeitem" href="#course-explorer">Course Explorer</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#register-for-classes">Register for Classes</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#academic-calendar">Academic Calendar</a>
                    </li>
                    <li role="none">
                      <a role="treeitem" href="#academic-tanscripts">Transcripts</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>

            <aside class="page" aria-label="Updated content from treeview navigation">
              <h1 class="page_title">Mythical University</h1>
              <div class="content">
                <p></p>
                <p></p>
                <p></p>
              </div>
            </aside>
          </div>
          <div class="footer">
            Mythical University footer information
          </div>


        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

      <section>
        <h2>Accessibility Features</h2>
        <p>
          To make the focus indicator easier to see, nodes in the tree have a custom focus and hover styling created using CSS focus and hover pseudo-classes.
        </p>
      </section>

      <section>
        <h2>Terms Used to Describe Trees</h2>
        <p>
          A tree item that can be expanded to reveal child items is called a parent node.
          It is a closed node when the children are hidden and an open node when it is expanded.
          An end node does not have any children.
          For a complete list of terms and definitions, see the
          <a href="../../../#TreeView">Treeview Design Pattern.</a>
        </p>
      </section>

      <section>
        <h2 id="kbd_label">Keyboard Support</h2>
        <table aria-labelledby="kbd_label" class="def">
          <thead>
            <tr>
              <th>Key</th>
              <th>Function</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="key-enter-or-space">
              <th><kbd>Enter</kbd><br>or <kbd>Space</kbd></th>
              <td>
                <ul>
                  <li>Performs the default action (e.g. onclick event) for the focused node.</li>
                  <li>In this example, the default action is to activate the link, opening its target page.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-down-arrow">
              <th><kbd>Down arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to the next node that is focusable without opening or closing a node.</li>
                  <li>If focus is on the last node, does nothing.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-up-arrow">
              <th><kbd>Up arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to the previous node that is focusable without opening or closing a node.</li>
                  <li>If focus is on the first node, does nothing.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-right-arrow">
              <th><kbd>Right Arrow</kbd></th>
              <td>
                <ul>
                  <li>When focus is on a closed node, opens the node; focus does not move.</li>
                  <li>When focus is on a open node, moves focus to the first child node.</li>
                  <li>When focus is on an end node, does nothing.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-left-arrow">
              <th><kbd>Left Arrow</kbd></th>
              <td>
                <ul>
                  <li>When focus is on an open node, closes the node.</li>
                  <li>When focus is on a child node that is also either an end node or a closed node, moves focus to its parent node.</li>
                  <li>When focus is on a root node that is also either an end node or a closed node, does nothing.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-home">
              <th><kbd>Home</kbd></th>
              <td>Moves focus to first node without opening or closing a node.</td>
            </tr>
            <tr data-test-id="key-end">
              <th><kbd>End</kbd></th>
              <td>Moves focus to the last node that can be focused without expanding any nodes that are closed.</td>
            </tr>
            <tr data-test-id="key-character">
              <th><kbd>a-z, A-Z</kbd></th>
              <td>
                <ul>
                <li>Focus moves to the next node with a name that starts with the typed character.</li>
                  <li>Search wraps to first node if a matching name is not found among the nodes that follow the focused node.</li>
                  <li>Search ignores nodes that are descendants of closed nodes.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-asterisk">
              <th>
                <kbd>*</kbd> (asterisk)
              </th>
              <td>
                <ul>
                <li>Expands all closed sibling nodes that are at the same level as the focused node.</li>
                <li>Focus does not move.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>

        <h3 id="rps_label_1">Landmarks</h3>
        <table aria-labelledby="rps_label_1 rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="banner-role">
              <th scope="row"><code>banner</code></th>
              <td></td>
              <td><code>header</code></td>
              <td>
                Identifies the common content found at the top of most pages in a website.
              </td>
            </tr>
            <tr data-test-id="navigation-role">
              <th scope="row"><code>navigation</code></th>
              <td></td>
              <td><code>nav</code></td>
              <td>
                Identifies the navigation menu for the page.
              </td>
            </tr>
            <tr data-test-id="main-role">
              <th scope="row"><code>main</code></th>
              <td></td>
              <td><code>main</code></td>
              <td>
                Identifies the main content region of the page.
              </td>
            </tr>
            <tr data-test-id="contentinfo-role">
              <th scope="row"><code>contentinfo</code></th>
              <td></td>
              <td><code>footer</code></td>
              <td>
                Identifies the common content found at the bottom of most pages in a website.
              </td>
            </tr>
          </tbody>
        </table>

        <h3 id="rps_label_2">Tree Control</h3>
        <table aria-labelledby="rps_label_2 rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="tree-role">
              <th scope="row"><code>tree</code></th>
              <td></td>
              <td><code>ul</code></td>
              <td>
                <ul>
                  <li>Identifies the <code>ul</code> element as a <code>tree</code> widget.</li>
                  <li>
                    Because focus movement in the tree is managed with a
                    <a href="../../../#kbd_roving_tabindex">roving tabindex</a>,
                    the <code>tree</code> container does not need a <code>tabindex</code> attribute.
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tree-aria-labelledby">
              <td></td>
              <th scope="row"><code>aria-labelledby=&quot;IDREF&quot;</code></th>
              <td><code>ul</code></td>
              <td>Refers to the heading element that contains the label that identifies the purpose of the <code>tree</code>.</td>
            </tr>
            <tr data-test-id="treeitem-role">
              <th scope="row"><code>treeitem</code></th>
              <td></td>
              <td><code>a</code></td>
              <td>
                <ul>
                  <li>Identifies the  element as a <code>treeitem</code>.</li>
                  <li>The role is set on either the <code>li</code> or on an <code>a</code> element contained in the <code>li</code>.</li>
                  <li>The role is set on the element that is interactive and focusable:
                    <ul>
                      <li>If the node is a parent node that does not contain a link, the <code>li</code> element has the <code>treeitem</code> role.</li>
                      <li>If the node is an end node that contains a link, the <code>a</code> element has the <code>treeitem</code> role.</li>
                    </ul>
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="treeitem-tabindex">
              <td></td>
              <th scope="row"><code>tabindex=&quot;-1&quot;</code></th>
              <td><code>a</code></td>
              <td>
                <ul>
                  <li>Makes the element with the <code>treeitem</code> role focusable without including it in the tab sequence of the page.</li>
                  <li>All <code>treeitem</code> elements are focusable, but only one is included in the tab sequence.</li>
                 </ul>
              </td>
            </tr>
            <tr data-test-id="treeitem-tabindex">
              <td></td>
              <th scope="row"><code>tabindex=&quot;0&quot;</code></th>
              <td><code>a</code></td>
              <td>
                <ul>
                  <li>Includes the element with the <code>treeitem</code> role in the tab sequence.</li>
                  <li>Only one <code>treeitem</code> in the <code>tree</code> has <code>tabindex=&quot;0&quot;</code>.</li>
                  <li>In this implementation, the first <code>treeitem</code> in the <code>tree</code> is included in the tab sequence when the page loads.</li>
                  <li>
                    When the user moves focus in the <code>tree</code>, the element included in the tab sequence changes to the element with focus as described in the section on
                    <a href="../../../#kbd_roving_tabindex">roving tabindex.</a>
                  </li>
                 </ul>
              </td>
            </tr>
            <tr data-test-id="treeitem-aria-current">
              <td></td>
              <th scope="row"><code>aria-current=&quot;page&quot;</code></th>
              <td><code>a</code></td>
              <td>
                Applied only to <code>treeitem</code> that is the link to current page.
              </td>
            </tr>
            <tr data-test-id="treeitem-aria-expanded">
              <td></td>
              <th scope="row"><code>aria-expanded=&quot;false&quot;</code></th>
              <td><code>a</code></td>
              <td>
                <ul>
                  <li>Applied only to <code>treeitem</code> elements that are parent nodes, i.e., they reference a <code>ul</code> with the <code>group</code> role.</li>
                  <li>Indicates the parent node is closed, i.e., the descendant elements are <strong>not</strong> visible.</li>
                  <li>The visual indication of the collapsed state is synchronized by a CSS attribute selector.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="treeitem-aria-expanded">
              <td></td>
              <th scope="row"><code>aria-expanded=&quot;true&quot;</code></th>
              <td><code>a</code></td>
              <td>
              <ul>
                  <li>Applied only to <code>treeitem</code> elements that are parent nodes, i.e., they reference a <code>ul</code> with the <code>group</code> role.</li>
                  <li>Indicates the parent node is open, i.e., the descendant elements <strong>are</strong> visible.</li>
                  <li>The visual indication of the expanded state is synchronized by a CSS attribute selector.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="treeitem-aria-owns">
              <td></td>
              <th scope="row"><code>aria-owns=&quot;IDREF&quot;</code></th>
              <td><code>a</code></td>
              <td>Refers to the element with role <code>group</group> that contains the next level down <code>treeitem</code> elements.</td>
            </tr>
            <tr data-test-id="group-role">
              <th scope="row"><code>group</code></th>
              <td></td>
              <td><code>ul</code></td>
              <td>
                <ul>
                  <li>Identifies the <code>ul</code> element as a container of <code>treeitem</code> elements that form a branch of the tree.</li>
                  <li>The group is contained in the element that serves as the parent <code>treeitem</code>.</li>
                  <li>Browsers use the grouping to compute <code>aria-level</code>, <code>aria-setsize</code> and <code>aria-posinset</code> values for the nodes contained in the branch.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="none-role">
              <th scope="row">
                <code>none</code>
              </th>
              <td></td>
              <td>
                <code>li</code>
              </td>
              <td>
                <ul>
                  <li>Hides the implicit <code>listitem</code> role of the <code>li</code> element from assistive technologies.</li>
                  <li>A <code>listitem</code> is required to be contained by a <code>list</code>, but the containing element is no longer a <code>list</code>; it is a <code>tree</code> or a <code>group</code>.</li>
                  <li>Removing the <code>listitem</code> semantic from the browser's accessibility tree eliminates the potential for confusing rendering by assistive technologies.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

     <section>
        <h2>Javascript and CSS Source Code</h2>
        <ul>
          <li>
            CSS:
            <a href="css/treeLinks.css" type="text/css">treeLinks.css</a>
          </li>
          <li>
            Javascript:
            <a href="js/treeLinks.js" type="text/javascript">treeLinks.js</a>
          </li>
          <li>
            Javascript:
            <a href="js/treeitemLinks.js" type="text/javascript">treeitemLinks.js</a>
          </li>
        </ul>
      </section>

      <section>
        <h2 id="sc1_label">HTML Source Code</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <pre><code id="sc1"></code></pre>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>

        <script>
          sourceCode.add('sc1', 'ex1');
          sourceCode.make();
        </script>
      </section>
  </main>
  <nav>
    <a href="../../../#TreeView">Tree View Design Pattern in WAI-ARIA Authoring Practices 1.2</a>
  </nav>
  </body>
</html>
